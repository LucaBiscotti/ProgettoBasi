{% extends 'base.html' %}

{% block name %}
    <a href="{{url_for('routes.index')}}">
        <i class="gg-arrow-left-o"></i>
    </a>
{% endblock %}

{% block crea %}
    <a href="{{url_for('routes.create_prova', id=esame.id) }}">Crea Prova</a>
{% endblock %}

{% block content %}




<h1>{% block title %} Prove {{ esame.codice_corso }} {% endblock %}</h1>
<input type="hidden" id="error-value" value="{{ error }}">
<div class="content">
    {% for prova in prove %}
        <div class="student">
            <a href="{{url_for('routes.edit_prova', id=prova.id)}}" class="student">
                <h6>{{ prova.titolo }}</h6> 
            </a>
            <p class="name">DATA DELLA PROVA: {{ prova.data_inizio }} </p>
            <p>DURATA: {{ prova.durata }} minuti</p>
            <p>AULA: {{ prova.aula }}</p>
            <p>TIPO DI SCADENZA: {{ prova.tipo_scadenza.name }}</p>
            <p>TIPO VALUTAZIONE: {{ prova.tipo_voto.name }}</p>
            <p>PERCENTUALE PROVA: {{ prova.percentuale * 100 }}%</p>
            <div class="link">
                <b><a href="{{url_for('routes.student_prove', id=prova.id)}}">Lista iscritti</a></b>
            </div>
        </div>
    {% endfor %}
    
    <div>
        <h2>Modifica i membri dell'esame</h2>
        <button type="button">
            <a href="{{url_for('routes.edit_profs', esame_id=esame.id)}}">Modifica</a>
        </button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.20/dist/sweetalert2.min.js"></script>

<script>
    function flashing() {
        var errorValue = (document.getElementById('error-value').value);

        if (errorValue.toLowerCase() === "true") {
            Swal.fire({
                icon: 'error',
                title: 'Non hai i permessi',
                text: 'Solo il docente verbalizzante pu√≤ accedere a questa area',
            });
            return false;
        }
    }

    flashing();
</script>



{% endblock %}